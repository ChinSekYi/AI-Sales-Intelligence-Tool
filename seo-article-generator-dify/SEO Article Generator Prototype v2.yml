app:
  description: for seo content generation
  icon: ðŸ“‘
  icon_background: '#EFF1F5'
  mode: workflow
  name: SEO Article Generator Prototype
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/gemini:0.6.1@34648f2c0b00c74748654a12b05f219cf501f863acd316e41e1bc655c6d8a5eb
    version: null
kind: app
version: 0.4.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        sourceType: llm
        targetType: template-transform
      id: 1711541250877-1711541379111
      selected: false
      source: '1711541250877'
      sourceHandle: source
      target: '1711541379111'
      targetHandle: target
      type: custom
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1763530374627-true-1763530441452-target
      selected: false
      source: '1763530374627'
      sourceHandle: 'true'
      target: '1763530441452'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: variable-aggregator
      id: 1763530441452-source-1763533302275-target
      selected: false
      source: '1763530441452'
      sourceHandle: source
      target: '1763533302275'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: variable-aggregator
      id: 1763530374627-false-1763533302275-target
      selected: false
      source: '1763530374627'
      sourceHandle: 'false'
      target: '1763533302275'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: variable-aggregator
        targetType: llm
      id: 1763533302275-source-1761883788801-target
      selected: false
      source: '1763533302275'
      sourceHandle: source
      target: '1761883788801'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: knowledge-retrieval
        targetType: llm
      id: 1763540405329-source-1763542832516-target
      selected: false
      source: '1763540405329'
      sourceHandle: source
      target: '1763542832516'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: llm
      id: 1763542832516-source-1761883788801-target
      selected: false
      source: '1763542832516'
      sourceHandle: source
      target: '1761883788801'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: start
        targetType: knowledge-retrieval
      id: 1711529368293-source-1763608159719-target
      selected: false
      source: '1711529368293'
      sourceHandle: source
      target: '1763608159719'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: knowledge-retrieval
        targetType: llm
      id: 1763522321289-source-1763617172765-target
      selected: false
      source: '1763522321289'
      sourceHandle: source
      target: '1763617172765'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: llm
      id: 1763617172765-source-1761883788801-target
      selected: false
      source: '1763617172765'
      sourceHandle: source
      target: '1761883788801'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: knowledge-retrieval
        targetType: llm
      id: 1763530187539-source-1763617339309-target
      selected: false
      source: '1763530187539'
      sourceHandle: source
      target: '1763617339309'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: start
        targetType: knowledge-retrieval
      id: 1711529368293-source-1763540405329-target
      selected: false
      source: '1711529368293'
      sourceHandle: source
      target: '1763540405329'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: llm
      id: 1761883788801-source-1711541242630-target
      selected: false
      source: '1761883788801'
      sourceHandle: source
      target: '1711541242630'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: knowledge-retrieval
        targetType: llm
      id: 1763608159719-source-1763618609981-target
      selected: false
      source: '1763608159719'
      sourceHandle: source
      target: '1763618609981'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: llm
      id: 1763618609981-source-1761883788801-target
      selected: false
      source: '1763618609981'
      sourceHandle: source
      target: '1761883788801'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: llm
      id: 1711541242630-source-1711541250877-target
      selected: false
      source: '1711541242630'
      sourceHandle: source
      target: '1711541250877'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: start
        targetType: if-else
      id: 1711529368293-source-1763621407418-target
      selected: false
      source: '1711529368293'
      sourceHandle: source
      target: '1763621407418'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: knowledge-retrieval
      id: 1763621407418-true-1763522321289-target
      selected: false
      source: '1763621407418'
      sourceHandle: 'true'
      target: '1763522321289'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: variable-aggregator
      id: 1763621407418-false-1763621836892-target
      selected: false
      source: '1763621407418'
      sourceHandle: 'false'
      target: '1763621836892'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: variable-aggregator
      id: 1763617172765-source-1763621836892-target
      selected: false
      source: '1763617172765'
      sourceHandle: source
      target: '1763621836892'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: variable-aggregator
        targetType: llm
      id: 1763621836892-source-1761883788801-target
      selected: false
      source: '1763621836892'
      sourceHandle: source
      target: '1761883788801'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: start
        targetType: if-else
      id: 1711529368293-source-1763621916911-target
      selected: false
      source: '1711529368293'
      sourceHandle: source
      target: '1763621916911'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: knowledge-retrieval
      id: 1763621916911-true-1763530187539-target
      selected: false
      source: '1763621916911'
      sourceHandle: 'true'
      target: '1763530187539'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: variable-aggregator
      id: 1763621916911-false-1763621945709-target
      selected: false
      source: '1763621916911'
      sourceHandle: 'false'
      target: '1763621945709'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: variable-aggregator
        targetType: llm
      id: 1763621945709-source-1761883788801-target
      selected: false
      source: '1763621945709'
      sourceHandle: source
      target: '1761883788801'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: variable-aggregator
      id: 1763617339309-source-1763621945709-target
      selected: false
      source: '1763617339309'
      sourceHandle: source
      target: '1763621945709'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: if-else
      id: 1763542832516-source-1763530374627-target
      source: '1763542832516'
      sourceHandle: source
      target: '1763530374627'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: template-transform
        targetType: llm
      id: 1711541379111-source-1763623709806-target
      selected: false
      source: '1711541379111'
      sourceHandle: source
      target: '1763623709806'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: start
        targetType: if-else
      id: 1711529368293-source-1763624177828-target
      selected: false
      source: '1711529368293'
      sourceHandle: source
      target: '1763624177828'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: knowledge-retrieval
      id: 1763624177828-true-1763624196275-target
      selected: false
      source: '1763624177828'
      sourceHandle: 'true'
      target: '1763624196275'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: knowledge-retrieval
        targetType: llm
      id: 1763624196275-source-1763624232622-target
      selected: false
      source: '1763624196275'
      sourceHandle: source
      target: '1763624232622'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: variable-aggregator
      id: 1763624232622-source-1763624274092-target
      selected: false
      source: '1763624232622'
      sourceHandle: source
      target: '1763624274092'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: variable-aggregator
      id: 1763624177828-false-1763624274092-target
      selected: false
      source: '1763624177828'
      sourceHandle: 'false'
      target: '1763624274092'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: variable-aggregator
        targetType: llm
      id: 1763624274092-source-1763623709806-target
      selected: false
      source: '1763624274092'
      sourceHandle: source
      target: '1763623709806'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: template-transform
      id: 1763623709806-source-1763624480374-target
      source: '1763623709806'
      sourceHandle: source
      target: '1763624480374'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: template-transform
        targetType: end
      id: 1763624480374-source-1763545409687-target
      source: '1763624480374'
      sourceHandle: source
      target: '1763545409687'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: Start
        type: start
        variables:
        - label: 'Title '
          max_length: null
          options: []
          required: false
          type: paragraph
          variable: title
        - default: ''
          hint: ''
          label: keywords
          max_length: 200
          options: []
          placeholder: ''
          required: true
          type: paragraph
          variable: keyword
        - default: ''
          hint: ''
          label: style
          max_length: 200
          options: []
          placeholder: ''
          required: true
          type: paragraph
          variable: style
        - label: Tone
          max_length: null
          options: []
          required: true
          type: text-input
          variable: tone
        - label: Audience
          max_length: null
          options: []
          required: true
          type: text-input
          variable: audience
        - allowed_file_extensions: []
          allowed_file_types:
          - image
          - document
          allowed_file_upload_methods:
          - local_file
          - remote_url
          default: ''
          hint: ''
          label: product_info
          max_length: 200
          options: []
          placeholder: ''
          required: false
          type: paragraph
          variable: product_info
        - allowed_file_extensions: []
          allowed_file_types:
          - image
          - document
          - video
          - audio
          allowed_file_upload_methods:
          - local_file
          - remote_url
          default: ''
          hint: ''
          label: article_examples
          max_length: 200
          options: []
          placeholder: ''
          required: false
          type: paragraph
          variable: article_examples
        - label: article_structure
          max_length: 33024
          options: []
          required: false
          type: paragraph
          variable: article_structure
        - default: ''
          hint: ''
          label: content_review_rules
          max_length: 200
          options: []
          placeholder: ''
          required: false
          type: paragraph
          variable: content_review_rules
        - default: Full SEO requirements for article creation
          hint: ''
          label: seo_guidelines_kb_query
          max_length: 120
          options: []
          placeholder: ''
          required: false
          type: paragraph
          variable: seo_guidelines_kb_query
        - default: PatSnap product features, capabilities, and use cases
          hint: ''
          label: product_info_kb_query
          max_length: 120
          options: []
          placeholder: ''
          required: false
          type: paragraph
          variable: product_info_kb_query
        - default: Sample articles with effective writing approaches
          hint: ''
          label: articles_examples_kb_query
          max_length: 120
          options: []
          placeholder: ''
          required: false
          type: text-input
          variable: articles_examples_kb_query
        - default: Content review rules
          hint: ''
          label: content_review_kb_query
          max_length: 120
          options: []
          placeholder: ''
          required: false
          type: text-input
          variable: content_review_kb_query
      dragging: false
      height: 400
      id: '1711529368293'
      position:
        x: -187.40098594021177
        y: 409.388945844097
      positionAbsolute:
        x: -187.40098594021177
        y: 409.388945844097
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: true
          variable_selector:
          - '1761883788801'
          - text
        desc: Write Intro
        model:
          completion_params:
            temperature: 0.7
            top_p: 1
          mode: chat
          name: gemini-2.5-pro
          provider: langgenius/gemini/google
        prompt_template:
        - id: 0d6d2409-b50d-479a-a462-0ec16f612d7d
          role: system
          text: 'You are PatSnapâ€™s senior content strategist and SEO expert. Use the
            provided article outline, top keywords from {{#1763542832516.text#}},
            and article standards from {{#1763618609981.text#}} to write a compelling,
            SEO-optimized introduction. Follow all formatting, quality, and SEO requirements.
            For context, see the article outline here: {{#context#}}'
        - id: 0abcadad-6afd-4acd-96fe-9b870333a738
          role: user
          text: 'Write an engaging introduction for the article using the outline,
            top keywords {{#1763542832516.text#}}, and article standards {{#1763618609981.text#}}.

            Include the primary keyword within the first 100 words.

            Clearly state the articleâ€™s topic and relevance for {{#1711529368293.audience#}}.

            Apply the specified {{#1711529368293.tone#}} and {{#1711529368293.style#}}.

            Make the introduction informative, concise (100â€“150 words), and fully
            aligned with SEO standards.

            Return only the introduction text.'
        selected: false
        title: LLM 7
        type: llm
        variables:
        - value_selector:
          - '1711529368293'
          - audience
          variable: audience
        - value_selector:
          - '1711529368293'
          - tone
          variable: tone
        - value_selector:
          - '1711540755626'
          - text
          variable: text
        vision:
          configs:
            detail: high
            variable_selector: []
          enabled: false
      dragging: false
      height: 116
      id: '1711541242630'
      position:
        x: 2464.578135526924
        y: 459.5482211956936
      positionAbsolute:
        x: 2464.578135526924
        y: 459.5482211956936
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: Write Body
        model:
          completion_params:
            temperature: 0.7
            top_p: 1
          mode: chat
          name: gemini-2.5-pro
          provider: langgenius/gemini/google
        prompt_template:
        - id: 09b3adcb-665f-4cf3-87c8-44ab7a503310
          role: system
          text: 'You are PatSnapâ€™s senior content strategist and SEO expert. Use the
            provided article outline, top keywords, and article standards to write
            the main body of the article, including a strong conclusion. Follow all
            formatting, quality, and SEO requirements.

            '
        - id: 8d7d3706-6d87-448a-a2d2-5339725cb244
          role: user
          text: 'Write the main body of the article using the outline, top keywords
            {{#1763542832516.text#}}, and article standards {{#1763542832516.text#}}.

            - Cover each section and subsection from the outline in detail.

            - Naturally incorporate the top keywords throughout the body.

            - Apply the specified {{#1711529368293.audience#}}, {{#1711529368293.tone#}},
            and {{#1711529368293.style#}}.

            - Use clear headers, concise paragraphs, bullet points, and examples as
            appropriate.

            - End with a conclusion that summarizes key takeaways, includes the primary
            keyword, and provides a call-to-action.

            - Ensure the content is informative, actionable, and fully aligned with
            SEO standards.


            Return only the article body text (excluding the introduction).'
        selected: false
        title: LLM 8
        type: llm
        variables:
        - value_selector:
          - '1711529368293'
          - audience
          variable: audience
        - value_selector:
          - '1711529368293'
          - tone
          variable: tone
        - value_selector:
          - '1711540755626'
          - text
          variable: outline
        - value_selector:
          - '1711529368293'
          - title
          variable: title
        - value_selector:
          - '1711540113584'
          - text
          variable: text2
        vision:
          configs:
            detail: high
            variable_selector: []
          enabled: false
      dragging: false
      height: 116
      id: '1711541250877'
      position:
        x: 2769.7472468408782
        y: 459.5482211956936
      positionAbsolute:
        x: 2769.7472468408782
        y: 459.5482211956936
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        desc: Combine intro and body
        selected: false
        template: "{{ intro }}\r\n{{ body }}"
        title: Template
        type: template-transform
        variables:
        - value_selector:
          - '1711541242630'
          - text
          variable: intro
        - value_selector:
          - '1711541250877'
          - text
          variable: body
      dragging: false
      height: 80
      id: '1711541379111'
      position:
        x: 3061.578652425685
        y: 459.5482211956936
      positionAbsolute:
        x: 3061.578652425685
        y: 459.5482211956936
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        author: Dify
        desc: ''
        height: 410
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"Start
          Node Variables","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":":","type":"text","version":1}],"direction":"ltr","format":"start","indent":0,"type":"listitem","version":1,"textFormat":1,"value":2},{"children":[{"children":[{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"title:","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"Â Articleâ€™s
          main heading.","type":"text","version":1}],"direction":null,"format":"start","indent":1,"type":"listitem","version":1,"textFormat":1,"value":1},{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"keyword:","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"Â Main
          topics or terms the article should focus on and generate content about.","type":"text","version":1}],"direction":null,"format":"start","indent":1,"type":"listitem","version":1,"textFormat":1,"value":2},{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"style:","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"Â Writing
          style (e.g., guide, case study).","type":"text","version":1}],"direction":null,"format":"start","indent":1,"type":"listitem","version":1,"textFormat":1,"value":3},{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"tone:","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"Â Articleâ€™s
          voice (e.g., friendly, professional).","type":"text","version":1}],"direction":null,"format":"start","indent":1,"type":"listitem","version":1,"textFormat":1,"value":4},{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"audience:","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"Â Intended
          readers. (e.g. beginners, industry professionals)","type":"text","version":1}],"direction":null,"format":"start","indent":1,"type":"listitem","version":1,"textFormat":1,"value":5}],"direction":null,"format":"","indent":0,"type":"list","version":1,"textFormat":1,"listType":"bullet","start":1,"tag":"ul"}],"direction":null,"format":"","indent":0,"type":"listitem","version":1,"textFormat":1,"value":3}],"direction":"ltr","format":"","indent":0,"type":"list","version":1,"textFormat":1,"listType":"number","start":2,"tag":"ol"},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""},{"children":[{"children":[{"children":[{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"product_info:","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"Â Product
          or data info for content.","type":"text","version":1}],"direction":null,"format":"start","indent":1,"type":"listitem","version":1,"textFormat":1,"value":1},{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"article_examples:","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"Â Example
          articles for reference.","type":"text","version":1}],"direction":null,"format":"start","indent":1,"type":"listitem","version":1,"textFormat":1,"value":2},{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"article_structure:","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"Â Desired
          outline or format.","type":"text","version":1}],"direction":null,"format":"start","indent":1,"type":"listitem","version":1,"textFormat":1,"value":3},{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"content_review_rules","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":":
          used for pre-review checks and confidence scoring Provided by content team.","type":"text","version":1}],"direction":null,"format":"start","indent":1,"type":"listitem","version":1,"textFormat":1,"value":4}],"direction":null,"format":"","indent":0,"type":"list","version":1,"textFormat":1,"listType":"bullet","start":1,"tag":"ul"}],"direction":null,"format":"","indent":0,"type":"listitem","version":1,"textFormat":1,"value":1},{"children":[],"direction":null,"format":"start","indent":0,"type":"listitem","version":1,"value":1},{"children":[{"children":[{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"seo_guidelines_kb_query:","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"Â Query
          for SEO rules.","type":"text","version":1}],"direction":null,"format":"start","indent":1,"type":"listitem","version":1,"textFormat":1,"value":1},{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"product_info_query:","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"Â Query
          for product/data info.","type":"text","version":1}],"direction":null,"format":"start","indent":1,"type":"listitem","version":1,"textFormat":1,"value":2},{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"articles_example_kb_query:","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"Â Query
          for example articles.","type":"text","version":1}],"direction":null,"format":"start","indent":1,"type":"listitem","version":1,"textFormat":1,"value":3},{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"content_review_query","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":":
          Query content review kb.","type":"text","version":1}],"direction":null,"format":"start","indent":1,"type":"listitem","version":1,"textFormat":1,"value":4}],"direction":null,"format":"","indent":0,"type":"list","version":1,"textFormat":1,"listType":"bullet","start":1,"tag":"ul"}],"direction":null,"format":"","indent":0,"type":"listitem","version":1,"textFormat":1,"value":2}],"direction":null,"format":"","indent":0,"type":"list","version":1,"textFormat":1,"listType":"number","start":1,"tag":"ol"}],"direction":"ltr","format":"","indent":0,"type":"root","version":1,"textFormat":1}}'
        theme: blue
        title: ''
        type: ''
        width: 461
      height: 410
      id: '1718995081823'
      position:
        x: -239.0968231096079
        y: 1335.6332381635584
      positionAbsolute:
        x: -239.0968231096079
        y: 1335.6332381635584
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 461
    - data:
        author: Dify
        desc: ''
        height: 458
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":1,"mode":"normal","style":"font-size:
          16px;","text":"Detailed Process","type":"text","version":1}],"direction":"ltr","format":"start","indent":0,"type":"paragraph","version":1,"textFormat":1,"textStyle":"font-size:
          16px;"},{"children":[{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"User
          Input","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":":","type":"text","version":1}],"direction":"ltr","format":"start","indent":0,"type":"listitem","version":1,"textFormat":1,"value":15},{"children":[{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"User
          inputs keyword, title, audience, tone etc in the start node.","type":"text","version":1}],"direction":"ltr","format":"","indent":1,"type":"listitem","version":1,"value":1}],"direction":"ltr","format":"","indent":0,"type":"list","version":1,"listType":"bullet","start":1,"tag":"ul"}],"direction":"ltr","format":"start","indent":0,"type":"listitem","version":1,"value":16},{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"Condition
          Check","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":":","type":"text","version":1}],"direction":"ltr","format":"start","indent":0,"type":"listitem","version":1,"textFormat":1,"value":16},{"children":[{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Check
          if the title is empty; if empty, generate a title.","type":"text","version":1}],"direction":"ltr","format":"","indent":1,"type":"listitem","version":1,"value":1},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Check
          if article_examples, product_info is empty; if empty, get info from knowledge
          base.","type":"text","version":1}],"direction":"ltr","format":"","indent":1,"type":"listitem","version":1,"value":2}],"direction":"ltr","format":"","indent":0,"type":"list","version":1,"listType":"bullet","start":1,"tag":"ul"}],"direction":"ltr","format":"start","indent":0,"type":"listitem","version":1,"value":17},{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"Generate
          Outline and Article","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":":","type":"text","version":1}],"direction":"ltr","format":"start","indent":0,"type":"listitem","version":1,"textFormat":1,"value":17},{"children":[{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Generate
          an article outline, introduction, and main body based on user input and
          search results.","type":"text","version":1}],"direction":"ltr","format":"","indent":1,"type":"listitem","version":1,"value":1}],"direction":"ltr","format":"","indent":0,"type":"list","version":1,"listType":"bullet","start":1,"tag":"ul"}],"direction":"ltr","format":"start","indent":0,"type":"listitem","version":1,"value":18},{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"Template
          Transform and Output","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":":","type":"text","version":1}],"direction":"ltr","format":"start","indent":0,"type":"listitem","version":1,"textFormat":1,"value":18},{"children":[{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Merge
          the introduction and main body to generate a complete article and output
          the result.","type":"text","version":1}],"direction":"ltr","format":"","indent":1,"type":"listitem","version":1,"value":1}],"direction":"ltr","format":"","indent":0,"type":"list","version":1,"listType":"bullet","start":1,"tag":"ul"}],"direction":"ltr","format":"start","indent":0,"type":"listitem","version":1,"value":19},{"children":[{"detail":0,"format":1,"mode":"normal","style":"","text":"Pre-review
          check and scoring:","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"listitem","version":1,"textFormat":1,"value":19},{"children":[{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"checks
          the generated article based of guidelines determined by content team.","type":"text","version":1}],"direction":"ltr","format":"","indent":1,"type":"listitem","version":1,"value":1}],"direction":"ltr","format":"","indent":0,"type":"list","version":1,"listType":"bullet","start":1,"tag":"ul"}],"direction":"ltr","format":"start","indent":0,"type":"listitem","version":1,"value":20}],"direction":"ltr","format":"","indent":0,"type":"list","version":1,"listType":"number","start":15,"tag":"ol"}],"direction":"ltr","format":"","indent":0,"type":"root","version":1,"textStyle":"font-size:
          16px;"}}'
        theme: blue
        title: ''
        type: ''
        width: 568
      height: 458
      id: '1718995132869'
      position:
        x: 701.1222642696744
        y: 1335.6332381635584
      positionAbsolute:
        x: 701.1222642696744
        y: 1335.6332381635584
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 568
    - data:
        context:
          enabled: true
          variable_selector:
          - '1763608159719'
          - result
        desc: Generate Outline
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gemini-2.5-pro
          provider: langgenius/gemini/google
        prompt_config:
          jinja2_variables: []
        prompt_template:
        - edition_type: basic
          id: 1872015c-550e-45e6-89ca-6ddbf3398f4b
          role: system
          text: "You are PatSnap's senior content strategist and SEO expert. Use the\
            \ provided context, tone:{{#1711529368293.tone#}}, audience:{{#1711529368293.audience#}},\
            \ and style:{{#1711529368293.style#}} to generate a comprehensive, SEO-optimized\
            \ article outline. Strictly follow all article standards and best practices.\n\
            \nUse the following as context and guidelines for the article outline:\n\
            - Article standards:Â {{#context#}}\n- Format of good articles: {{#1763621836892.output#}}\n\
            - Article title: {{#1763533302275.output#}}\n- Data/product knowledge:\
            \ {{#1763621945709.output#}}\n\nThe top keywords for this article were\
            \ retrieved from company website analytics, SEO CTR dashboard, and industry\
            \ research. Use{{#1763542832516.text#}} naturally in the outline.\n\n\
            Use this knowledge strategically:\n- Reference specific PatSnap features\
            \ and capabilities where relevant\n- Follow successful article structures\
            \ and content patterns from the examples\n- Apply SEO guidelines and naturally\
            \ incorporate the target keywords provided\n\nAction: \nReturn the outline\
            \ in a clear format, with each section containing 7-8 actionable bullet\
            \ points, examples, and key term definitions.\n\nResults: \nThe output\
            \ should be a structured, SEO-optimized article outline ready for drafting."
        - id: 0569c33b-eb7c-4fcd-a197-087fe6fddf77
          role: user
          text: 'Generate an SEO-optimized article outline for {{#1711529368293.audience#}}
            using the provided context, selected top keywords, and article standards.
            Apply the specified {{#1711529368293.tone#}} and {{#1711529368293.style#}}
            throughout.


            Your outline must:

            - Include a title (with primary keyword near the beginning)

            - Include an introduction (with primary keyword in first 100 words)

            - Have 4-8 main sections (H2s) with descriptive, scannable headers and
            keyword variations

            - Use subsections (H3s) as needed, including long-tail keywords

            - End with a conclusion (key takeaways and call-to-action)

            - Suggest images, internal/external links, and FAQ section if relevant

            - Follow all formatting, length, and SEO requirements from the article
            standards

            - Use the provided top keywords {{#1763542832516.text#}}, which were selected
            based on company website analytics, SEO CTR dashboard, and industry research,
            to optimize the article outline.


            Return the outline in a clear format, with each section containing 7-8
            actionable bullet points, examples, and key term definitions.'
        selected: false
        structured_output_enabled: false
        title: LLM 6
        type: llm
        vision:
          enabled: false
      height: 116
      id: '1761883788801'
      position:
        x: 2161.858340569671
        y: 459.5482211956936
      positionAbsolute:
        x: 2161.858340569671
        y: 459.5482211956936
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        dataset_ids:
        - HPgrTKv1DTY9qo/cd4DR5kuo80/8wek4apiAU/1rYWXA1/yzda37TFCUaYVkXM1n
        desc: Get reference articles with proven formats and styles.
        multiple_retrieval_config:
          reranking_enable: false
          reranking_mode: weighted_score
          top_k: 4
          weights:
            keyword_setting:
              keyword_weight: 0
            vector_setting:
              embedding_model_name: text-embedding-004
              embedding_provider_name: langgenius/gemini/google
              vector_weight: 1
            weight_type: customized
        query_variable_selector:
        - '1711529368293'
        - articles_examples_kb_query
        retrieval_mode: multiple
        selected: false
        title: Article_Examples
        type: knowledge-retrieval
      height: 134
      id: '1763522321289'
      position:
        x: 724
        y: 521.0779846761513
      positionAbsolute:
        x: 724
        y: 521.0779846761513
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        dataset_ids:
        - TsEJ/1ViSuHvLxK5LnIkZglpNge2uT3pA7vLY1mfJM+jRKqk1WOLK3RcZ9bXfAj6
        desc: Get PatSnap product features, benefits, use cases, or other data information.
        multiple_retrieval_config:
          reranking_enable: false
          reranking_mode: weighted_score
          top_k: 4
          weights:
            keyword_setting:
              keyword_weight: 0
            vector_setting:
              embedding_model_name: text-embedding-004
              embedding_provider_name: langgenius/gemini/google
              vector_weight: 1
            weight_type: customized
        query_variable_selector:
        - '1711529368293'
        - product_info_kb_query
        retrieval_mode: multiple
        selected: false
        title: Product_Info
        type: knowledge-retrieval
      height: 150
      id: '1763530187539'
      position:
        x: 724
        y: 738.0779846761513
      positionAbsolute:
        x: 724
        y: 738.0779846761513
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: empty
            id: aa295393-3e83-40c0-838d-278b659c7012
            value: ''
            varType: string
            variable_selector:
            - '1711529368293'
            - title
          id: 'true'
          logical_operator: and
        desc: Checks if title input is provided; if not, generates title from input
          keywords.
        selected: false
        title: IF/ELSE 1
        type: if-else
      height: 184
      id: '1763530374627'
      position:
        x: 1075.8299258660563
        y: 275.7512179662551
      positionAbsolute:
        x: 1075.8299258660563
        y: 275.7512179662551
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: Generates article title based on keywords
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gemini-2.5-pro
          provider: langgenius/gemini/google
        prompt_template:
        - id: 266c95b9-5df9-47cc-9674-32eeb44ad2db
          role: system
          text: 'You are an SEO expert and subject-matter expert. Your task is to
            generate an SEO article title using the top keywords provided by the user
            and the PatSnap top keywords LLM output. Context: {{#1711529368293.keyword#}}, '
        - id: 66bd4746-efaa-48d1-9705-3c4e2d29fdde
          role: user
          text: 'Generate a title that will rank for the keywords "{{#1711529368293.keyword#}}"
            and the PatSnap top keywords. Model the syntax after top-ranking titles,
            but do not copy them. Avoid words like "Master", "Comprehensive", "Discover",
            or "Unveil". Do not use gerunds; write in active, present voice only.
            Return the title only, without special symbols such as quotation marks
            or colons.

            '
        selected: false
        title: LLM 1
        type: llm
        vision:
          enabled: false
      height: 132
      id: '1763530441452'
      position:
        x: 1428
        y: 275.7512179662551
      positionAbsolute:
        x: 1428
        y: 275.7512179662551
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        output_type: string
        selected: false
        title: Variable Aggregator
        type: variable-aggregator
        variables:
        - - '1763530441452'
          - text
        - - '1711529368293'
          - title
      height: 135
      id: '1763533302275'
      position:
        x: 1751.833819133863
        y: 275.7512179662551
      positionAbsolute:
        x: 1751.833819133863
        y: 275.7512179662551
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        dataset_ids:
        - Swq5BvWNbM/WfLHVEVbwi10zc7LFPJ8O5unyQv7GiqdduNbMbyRfa197EcTN2S3v
        desc: Get top keywords and topic ideas for optimization.
        metadata_filtering_conditions:
          conditions: []
          logical_operator: and
        metadata_filtering_mode: manual
        multiple_retrieval_config:
          reranking_enable: false
          reranking_mode: weighted_score
          score_threshold: null
          top_k: 3
          weights:
            keyword_setting:
              keyword_weight: 0
            vector_setting:
              embedding_model_name: text-embedding-004
              embedding_provider_name: langgenius/gemini/google
              vector_weight: 1
            weight_type: customized
        query_variable_selector:
        - '1711529368293'
        - keyword
        retrieval_mode: multiple
        selected: false
        title: Keyword_Strategy
        type: knowledge-retrieval
      height: 134
      id: '1763540405329'
      position:
        x: 362
        y: 138.44423391609627
      positionAbsolute:
        x: 362
        y: 138.44423391609627
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: true
          variable_selector:
          - '1763540405329'
          - result
        desc: Choose top keywords to use for SEO.
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gemini-2.5-pro
          provider: langgenius/gemini/google
        prompt_template:
        - id: 3fa30b62-5968-499a-b2f5-cba92eed0a4e
          role: system
          text: You are an SEO and keyword expert. Using the retrieved knowledge fromÂ Patsnap_Keywords_topics
            (provided in {{#context#}}), select the most relevant and effective keywords
            for the given context. Output the keywords in a clear, structured format
            suitable for direct use in article generation by subsequent LLM nodes.
        - id: 670ee390-357c-419d-a0e5-aadda43ff432
          role: user
          text: From the context provided, list the top keywords to use for SEO. Present
            them as a comma-separated list, and include a brief reason for each keywordâ€™s
            selection if possible.
        selected: false
        title: LLM 5
        type: llm
        vision:
          enabled: false
      height: 116
      id: '1763542832516'
      position:
        x: 724
        y: 138.44423391609627
      positionAbsolute:
        x: 724
        y: 138.44423391609627
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        outputs:
        - value_selector:
          - '1763624480374'
          - output
          value_type: string
          variable: output
        selected: false
        title: End 4
        type: end
      height: 88
      id: '1763545409687'
      position:
        x: 3962.9080292950953
        y: 459.5482211956936
      positionAbsolute:
        x: 3962.9080292950953
        y: 459.5482211956936
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        dataset_ids:
        - bH4fETV568w2jeEq2XEeAjOwRiq0MfXdWpvhpuZGQV+mqnZy2Ja4yc9mzwmfkoWS
        desc: Get rules and best practices for creating SEO content.
        multiple_retrieval_config:
          reranking_enable: false
          reranking_mode: weighted_score
          top_k: 4
          weights:
            keyword_setting:
              keyword_weight: 1
            vector_setting:
              embedding_model_name: text-embedding-004
              embedding_provider_name: langgenius/gemini/google
              vector_weight: 0
            weight_type: customized
        query_variable_selector:
        - '1711529368293'
        - seo_guidelines_kb_query
        retrieval_mode: multiple
        selected: false
        title: SEO_Guidelines
        type: knowledge-retrieval
      height: 134
      id: '1763608159719'
      position:
        x: 362
        y: 0
      positionAbsolute:
        x: 362
        y: 0
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: true
          variable_selector:
          - '1763522321289'
          - result
        desc: Converts Array[Object] content to plain text.
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gemini-2.5-pro
          provider: langgenius/gemini/google
        prompt_template:
        - id: f00a18c5-9539-4d81-b9f9-01a9f33b7187
          role: system
          text: 'You are an expert assistant. Your task is to process an array of
            objects, each containing aÂ contentÂ field. Extract theÂ contentÂ field from
            every object and concatenate all contents into a single block of plain
            text, separated by newlines.

            '
        - id: 86a4edc9-2188-4c0d-a52a-0f9878ca726a
          role: user
          text: 'Given the array of objects below, extract theÂ contentÂ field from
            each object and combine all contents into one plain text block.

            Return only the combined plain text.


            Array:

            {{#context#}}'
        selected: false
        title: LLM 3
        type: llm
        vision:
          enabled: false
      height: 132
      id: '1763617172765'
      position:
        x: 1075.8299258660563
        y: 521.0779846761513
      positionAbsolute:
        x: 1075.8299258660563
        y: 521.0779846761513
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: true
          variable_selector:
          - '1763530187539'
          - result
        desc: Converts Array[Object] content to plain text.
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gemini-2.5-pro
          provider: langgenius/gemini/google
        prompt_template:
        - id: 61ea481d-0460-4793-b0dc-0acd9c819845
          role: system
          text: You are an expert assistant. Your task is to process an array of objects,
            each containing aÂ contentÂ field. Extract theÂ contentÂ field from every
            object and concatenate all contents into a single block of plain text,
            separated by newlines.
        - id: eba28eed-6529-467d-b535-de1db149bef6
          role: user
          text: 'Given the array of objects below, extract theÂ contentÂ field from
            each object and combine all contents into one plain text block.

            Return only the combined plain text.


            Array:

            {{#context#}}'
        selected: false
        title: LLM 4
        type: llm
        vision:
          enabled: false
      height: 132
      id: '1763617339309'
      position:
        x: 1075.8299258660563
        y: 738.0779846761513
      positionAbsolute:
        x: 1075.8299258660563
        y: 738.0779846761513
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: Converts Array[Object] content to plain text.
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gemini-2.5-pro
          provider: langgenius/gemini/google
        prompt_template:
        - id: b619e13f-a038-4af2-a2e2-97a33259329b
          role: system
          text: You are an expert assistant. Your task is to process an array of objects,
            each containing aÂ contentÂ field. Extract theÂ contentÂ field from every
            object and concatenate all contents into a single block of plain text,
            separated by newlines.
        - id: 652aaa4c-f81d-4680-8cb3-662ee0fd8b29
          role: user
          text: 'Given the array of objects below, extract theÂ contentÂ field from
            each object and combine all contents into one plain text block.

            Return only the combined plain text.


            Array:

            {{#context#}}'
        selected: false
        title: LLM 2
        type: llm
        vision:
          enabled: false
      height: 132
      id: '1763618609981'
      position:
        x: 724
        y: 0
      positionAbsolute:
        x: 724
        y: 0
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        author: chinsekyi-patsnap
        desc: ''
        height: 88
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Generate
          title based on keywords if not present.","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0,"textStyle":""}],"direction":null,"format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 240
      height: 88
      id: '1763619525722'
      position:
        x: 1428
        y: 179.64481159600788
      positionAbsolute:
        x: 1428
        y: 179.64481159600788
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 240
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: empty
            id: e48453f6-4a3e-4b68-87d3-d7e32504959f
            value: ''
            varType: array[file]
            variable_selector:
            - '1711529368293'
            - article_examples
          id: 'true'
          logical_operator: and
        desc: 'Checks for articles_examples input; if missing, use articles examples
          from knowledge base.

          '
        selected: false
        title: IF/ELSE 2
        type: if-else
      height: 184
      id: '1763621407418'
      position:
        x: 362
        y: 521.0779846761513
      positionAbsolute:
        x: 362
        y: 521.0779846761513
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        output_type: string
        selected: false
        title: Variable Aggregator 2
        type: variable-aggregator
        variables:
        - - '1763617172765'
          - text
        - - '1711529368293'
          - article_examples
      height: 135
      id: '1763621836892'
      position:
        x: 1404.0990377536311
        y: 521.0779846761513
      positionAbsolute:
        x: 1404.0990377536311
        y: 521.0779846761513
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: empty
            id: 4b861556-193f-46da-8b97-5ccc07f0fbcb
            value: ''
            varType: array[file]
            variable_selector:
            - '1711529368293'
            - product_info
          id: 'true'
          logical_operator: and
        desc: 'Checks for product_info input; if missing, use product info from knowledge
          base.

          '
        selected: false
        title: IF/ELSE 3
        type: if-else
      height: 184
      id: '1763621916911'
      position:
        x: 362
        y: 738.0779846761513
      positionAbsolute:
        x: 362
        y: 738.0779846761513
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        output_type: string
        selected: false
        title: Variable Aggregator 3
        type: variable-aggregator
        variables:
        - - '1763617339309'
          - text
        - - '1711529368293'
          - product_info
      height: 135
      id: '1763621945709'
      position:
        x: 1397.7254478212658
        y: 738.0779846761513
      positionAbsolute:
        x: 1397.7254478212658
        y: 738.0779846761513
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        author: chinsekyi-patsnap
        desc: ''
        height: 408
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":1,"mode":"normal","style":"font-size:
          16px;","text":"Assumptions and Limitations in This Workflow","type":"text","version":1}],"direction":null,"format":"start","indent":0,"type":"paragraph","version":1,"textFormat":1,"textStyle":"font-size:
          16px;"},{"children":[],"direction":null,"format":"start","indent":0,"type":"paragraph","version":1,"textFormat":1,"textStyle":"font-size:
          16px;"},{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"TheÂ input
          fields \"","type":"text","version":1},{"detail":0,"format":16,"mode":"normal","style":"","text":"article_examples,","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"
          ","type":"text","version":1},{"detail":0,"format":16,"mode":"normal","style":"","text":"product_info,
          content_review_rules","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"\"
          used the data type â€œ","type":"text","version":1},{"detail":0,"format":1,"mode":"normal","style":"","text":"paragraphs","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"â€
          to ensure proper aggregation with the knowledge retrieval output from the
          if-else statement.","type":"text","version":1}],"direction":null,"format":"start","indent":0,"type":"listitem","version":1,"value":1},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"An
          LLM node is used to convert content to a string rather than Array[Object],
          since variable aggregators only return the first output from the previous
          node instead of combining multiple outputs.","type":"text","version":1}],"direction":null,"format":"start","indent":0,"type":"listitem","version":1,"value":2},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Knowledge
          base queries are placed in the start node, not in the knowledge retrieval
          nodes, because Dify only allows query variables to be set from the start
          node.","type":"text","version":1}],"direction":null,"format":"start","indent":0,"type":"listitem","version":1,"value":3},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Knowledge
          retrieval output may contain duplicate or repeated chunks.","type":"text","version":1}],"direction":null,"format":"start","indent":0,"type":"listitem","version":1,"value":4}],"direction":null,"format":"","indent":0,"type":"list","version":1,"listType":"bullet","start":1,"tag":"ul"}],"direction":null,"format":"","indent":0,"type":"root","version":1,"textStyle":"font-size:
          16px;"}}'
        theme: pink
        title: ''
        type: ''
        width: 415
      height: 408
      id: '1763622107808'
      position:
        x: 1289.3076769690188
        y: 1335.6332381635584
      positionAbsolute:
        x: 1289.3076769690188
        y: 1335.6332381635584
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 415
    - data:
        context:
          enabled: true
          variable_selector:
          - '1711541379111'
          - output
        desc: Pre-review and Confidence Scoring
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gemini-2.5-pro
          provider: langgenius/gemini/google
        prompt_template:
        - id: fca55c86-b56e-4845-81ea-eb6081b80723
          role: system
          text: 'You are an expert content reviewer. Your task is to automatically
            evaluate the completed article provided in {{#context#}} using the rules
            defined by the content team. Check for keyword presence, keyword density,
            structural completeness, factual accuracy, compliance risks, and readability.
            For each criterion, return a result (pass/warning/fail) and a confidence
            score (0â€“1). Also, provide an overall confidence score for the article.

            '
        - id: 4c2dd502-f3a2-47c8-a213-33512889f979
          role: user
          text: "Evaluate the article according to the criteria in the content review\
            \ guidelines:Â  {{#1763624274092.output#}}. \n\nIf any of the following\
            \ criteria are not included in the content review guidelines, please add\
            \ them:\n\n1. Presence of primary keyword (especially in title and first\
            \ paragraph)\n2. Keyword density within recommended range\n3. Structural\
            \ completeness (all required sections included)\n4. Factual accuracy (cross-check\
            \ with trusted sources)\n5. Compliance risks (e.g., sensitive words, inappropriate\
            \ expressions)\n6. Readability and language quality (sentence length,\
            \ clarity)\n\nFor each check, return a result (pass/warning/fail) and\
            \ a confidence score (0â€“1).\nProvide an overall confidence score for the\
            \ article to help reviewers prioritize their work."
        selected: false
        title: LLM 9
        type: llm
        vision:
          enabled: false
      height: 116
      id: '1763623709806'
      position:
        x: 3356.3763419641396
        y: 459.5482211956936
      positionAbsolute:
        x: 3356.3763419641396
        y: 459.5482211956936
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: empty
            id: 492a8950-ae06-4197-a641-684f00630f78
            value: ''
            varType: string
            variable_selector:
            - '1711529368293'
            - content_review_rules
          id: 'true'
          logical_operator: and
        desc: 'Checks for content_review_rules input; if missing, use content_review_rules
          from knowledge base.

          '
        selected: false
        title: IF/ELSE 4
        type: if-else
      height: 200
      id: '1763624177828'
      position:
        x: 367.55398976627794
        y: 944.7165179183729
      positionAbsolute:
        x: 367.55398976627794
        y: 944.7165179183729
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        dataset_ids:
        - Pd7rJ31DSly8o2iG4qauQe/RAARvff1sEcZfpaQEecRYUpYgZSxe2WwaTBiwcCeC
        desc: 'Get content review checklist and quality standards.

          '
        multiple_retrieval_config:
          reranking_enable: false
          reranking_mode: weighted_score
          top_k: 4
          weights:
            keyword_setting:
              keyword_weight: 0
            vector_setting:
              embedding_model_name: text-embedding-004
              embedding_provider_name: langgenius/gemini/google
              vector_weight: 1
            weight_type: customized
        query_variable_selector:
        - '1711529368293'
        - content_review_kb_query
        retrieval_mode: multiple
        selected: false
        title: Content_Review_Rules
        type: knowledge-retrieval
      height: 134
      id: '1763624196275'
      position:
        x: 717.1599053195832
        y: 950.0882020667734
      positionAbsolute:
        x: 717.1599053195832
        y: 950.0882020667734
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: true
          variable_selector:
          - '1763624196275'
          - result
        desc: Converts Array[Object] content to plain text.
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gemini-2.5-pro
          provider: langgenius/gemini/google
        prompt_template:
        - id: 3cc9bf1c-00af-4054-9b43-009717fce1f3
          role: system
          text: You are an expert assistant. Your task is to process an array of objects,
            each containing aÂ contentÂ field. Extract theÂ contentÂ field from every
            object and concatenate all contents into a single block of plain text,
            separated by newlines.
        - id: fe9f31d4-ae46-44e3-ac9a-f4663d274854
          role: user
          text: 'Given the array of objects below, extract theÂ contentÂ field from
            each object and combine all contents into one plain text block.

            Return only the combined plain text.


            Array:

            {{#context#}}'
        selected: false
        title: LLM 10
        type: llm
        vision:
          enabled: false
      height: 132
      id: '1763624232622'
      position:
        x: 1075.8299258660563
        y: 950.0882020667734
      positionAbsolute:
        x: 1075.8299258660563
        y: 950.0882020667734
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        output_type: string
        selected: false
        title: Variable Aggregator 4
        type: variable-aggregator
        variables:
        - - '1763624232622'
          - text
        - - '1711529368293'
          - content_review_rules
      height: 135
      id: '1763624274092'
      position:
        x: 1397.7254478212658
        y: 950.0882020667734
      positionAbsolute:
        x: 1397.7254478212658
        y: 950.0882020667734
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        desc: Combine full article and scoring results
        selected: false
        template: '{{ article }}

          {{ scoring }}'
        title: Template 2
        type: template-transform
        variables:
        - value_selector:
          - '1711541379111'
          - output
          value_type: string
          variable: article
        - value_selector:
          - '1763623709806'
          - text
          value_type: string
          variable: scoring
      height: 96
      id: '1763624480374'
      position:
        x: 3652.935769085349
        y: 459.5482211956936
      positionAbsolute:
        x: 3652.935769085349
        y: 459.5482211956936
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        author: chinsekyi-patsnap
        desc: ''
        height: 452
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":1,"mode":"normal","style":"font-size:
          16px;","text":"Knowledge bases:","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":1,"textStyle":"font-size:
          16px;"},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textStyle":"font-size:
          14px;","textFormat":0},{"children":[{"detail":0,"format":1,"mode":"normal","style":"font-size:
          12px;","text":"1. ","type":"text","version":1},{"detail":0,"format":1,"mode":"normal","style":"","text":"SEO_Guidelines","type":"text","version":1},{"detail":0,"format":1,"mode":"normal","style":"font-size:
          12px;","text":"  ","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":1,"textStyle":"font-size:
          12px;"},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"   Clear
          rules and best practices for generatingSEO content.","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textStyle":"font-size:
          12px;","textFormat":0},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textStyle":"font-size:
          14px;","textFormat":0},{"children":[{"detail":0,"format":1,"mode":"normal","style":"font-size:
          12px;","text":"2. ","type":"text","version":1},{"detail":0,"format":1,"mode":"normal","style":"","text":"Keyword_Strategy","type":"text","version":1},{"detail":0,"format":1,"mode":"normal","style":"font-size:
          12px;","text":"  ","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":1,"textStyle":"font-size:
          12px;"},{"children":[{"detail":0,"format":0,"mode":"normal","style":"font-size:
          12px;","text":"   Key keywords and topic suggestions for article optimization.","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textStyle":"font-size:
          12px;","textFormat":0},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textStyle":"font-size:
          14px;","textFormat":0},{"children":[{"detail":0,"format":1,"mode":"normal","style":"font-size:
          12px;","text":"3. ","type":"text","version":1},{"detail":0,"format":1,"mode":"normal","style":"","text":"Article_Examples","type":"text","version":1},{"detail":0,"format":1,"mode":"normal","style":"font-size:
          12px;","text":"  ","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":1,"textStyle":"font-size:
          12px;"},{"children":[{"detail":0,"format":0,"mode":"normal","style":"font-size:
          12px;","text":"   Reference articles with proven structure, and style.","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textStyle":"font-size:
          12px;","textFormat":0},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textStyle":"font-size:
          14px;","textFormat":0},{"children":[{"detail":0,"format":1,"mode":"normal","style":"font-size:
          12px;","text":"4. Product_Info  ","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":1,"textStyle":"font-size:
          12px;"},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"   PatSnap
          product features, benefits, and use cases.","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textStyle":"font-size:
          12px;","textFormat":0},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textStyle":"font-size:
          14px;","textFormat":0},{"children":[{"detail":0,"format":1,"mode":"normal","style":"font-size:
          12px;","text":"5. ","type":"text","version":1},{"detail":0,"format":1,"mode":"normal","style":"","text":"Content_Review_Rules","type":"text","version":1},{"detail":0,"format":1,"mode":"normal","style":"font-size:
          12px;","text":"  ","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":1,"textStyle":"font-size:
          12px;"},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"
          Automated content review checklist and quality standards.","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textStyle":"font-size:
          12px;","textFormat":0}],"direction":null,"format":"","indent":0,"type":"root","version":1,"textStyle":"font-size:
          12px;"}}'
        theme: blue
        title: ''
        type: ''
        width: 420
      height: 452
      id: '1763625385532'
      position:
        x: 248.2026088590908
        y: 1335.6332381635584
      positionAbsolute:
        x: 248.2026088590908
        y: 1335.6332381635584
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 420
    viewport:
      x: 92.5145702031677
      y: 93.02757281168482
      zoom: 0.27947615828104416
  rag_pipeline_variables: []
